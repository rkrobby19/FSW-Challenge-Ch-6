<!DOCTYPE html>
<html lang="en">
    <%- include('partials/head') %> 
    
    <body>
        <div class="container mt-5">
            <button class="btn btn-primary register" type="button">
                <a href="/create-user"
                    ><i class="fa-solid fa-circle-plus"></i> Add New User</a
                >
            </button>
            <br />
            <table
                class="table table-striped table-hover table-borderless table-responsive card-1 p-4"
            >
                <thead>
                    <tr class="border-bottom text-center">
                        <th>
                            <span class="ml-2">#</span>
                        </th>
                        <th>
                            <span class="ml-2">Username</span>
                        </th>
                        <th>
                            <span class="ml-2">Email</span>
                        </th>
                        <th>
                            <span class="ml-4">Action</span>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <% for (let i = 0; i<users.length; i++) { %>
                    <tr class="border-bottom text-center">
                        <td>
                            <div class="p-2">
                                <span class="font-weight-bold"><%= i %> </span>
                            </div>
                        </td>
                        <td>
                            <div class="p-2">
                                <span class="font-weight-bold"
                                    ><%= users[i].userName %></span
                                >
                            </div>
                        </td>
                        <td>
                            <div class="p-2">
                                <span class="font-weight-bold"
                                    ><%= users[i].email %></span
                                >
                            </div>
                        </td>
                        <td>
                            <div class="p-2 icons">
                                <ul class="list-inline">
                                    <li class="list-inline-item">
                                        <a
                                            href="/users/<%= users[i].id %>/user-profile"
                                        >
                                            <i
                                                class="fa-solid fa-circle-info"
                                            ></i>
                                        </a>
                                    </li>
                                    <li class="list-inline-item">
                                        <!-- TODO: edit the href button to connect API -->
                                        <a href="#" onclick="deleteAllDataHandler(<%= users[i].id %>)">
                                            <i
                                                class="fa fa-trash text-danger"
                                            ></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
        <%- include('partials/script') %> 
    </body>
</html>
